# ç°é‡‘æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunshansj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€ç»æµçš„å¿«é€Ÿå‘å±•å’Œç°é‡‘äº¤æ˜“çš„æ™®éä½¿ç”¨ï¼Œç°é‡‘çš„å®‰å…¨ç®¡ç†å’Œç›‘æµ‹å˜å¾—æ„ˆå‘é‡è¦ã€‚å°¤å…¶æ˜¯åœ¨é‡‘èæœºæ„ã€å•†è¶…åŠå…¬å…±åœºæ‰€ï¼Œç°é‡‘çš„æµåŠ¨æ€§å’Œæ˜“æºå¸¦æ€§ä½¿å…¶æˆä¸ºçŠ¯ç½ªåˆ†å­é’ççš„ç›®æ ‡ã€‚å› æ­¤ï¼Œå¼€å‘ä¸€ç§é«˜æ•ˆã€å‡†ç¡®çš„ç°é‡‘æ£€æµ‹ç³»ç»Ÿï¼Œèƒ½å¤Ÿå®æ—¶ç›‘æµ‹å’Œè¯†åˆ«ç°é‡‘çš„å­˜åœ¨ï¼Œå…·æœ‰é‡è¦çš„ç°å®æ„ä¹‰å’Œåº”ç”¨ä»·å€¼ã€‚è¿‘å¹´æ¥ï¼Œæ·±åº¦å­¦ä¹ æŠ€æœ¯çš„è¿…çŒ›å‘å±•ä¸ºç‰©ä½“æ£€æµ‹é¢†åŸŸå¸¦æ¥äº†æ–°çš„æœºé‡ï¼Œå°¤å…¶æ˜¯YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹çš„æå‡ºï¼Œä½¿å¾—å®æ—¶ç‰©ä½“æ£€æµ‹çš„å‡†ç¡®æ€§å’Œé€Ÿåº¦å¾—åˆ°äº†æ˜¾è‘—æå‡ã€‚

YOLOv8ä½œä¸ºYOLOç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå…¶åœ¨ç›®æ ‡æ£€æµ‹ä»»åŠ¡ä¸­å±•ç°å‡ºäº†å“è¶Šçš„æ€§èƒ½ã€‚é€šè¿‡å¯¹YOLOv8çš„æ”¹è¿›ï¼Œå¯ä»¥è¿›ä¸€æ­¥æå‡å…¶åœ¨ç°é‡‘æ£€æµ‹ä¸­çš„åº”ç”¨æ•ˆæœã€‚ç°é‡‘æ£€æµ‹ç³»ç»Ÿçš„æ ¸å¿ƒåœ¨äºå‡†ç¡®è¯†åˆ«å’Œå®šä½ç°é‡‘ï¼Œä¼ ç»Ÿçš„æ£€æµ‹æ–¹æ³•å¾€å¾€ä¾èµ–äºæ‰‹å·¥ç‰¹å¾æå–ï¼Œæ•ˆç‡ä½ä¸‹ä¸”å®¹æ˜“å—åˆ°ç¯å¢ƒå› ç´ çš„å½±å“ã€‚è€ŒåŸºäºYOLOv8çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œèƒ½å¤Ÿé€šè¿‡å¤§è§„æ¨¡æ•°æ®è®­ç»ƒï¼Œè‡ªåŠ¨å­¦ä¹ ç‰¹å¾ï¼Œä»è€Œå®ç°é«˜æ•ˆçš„ç°é‡‘æ£€æµ‹ã€‚

æœ¬ç ”ç©¶å°†åŸºäºæ”¹è¿›çš„YOLOv8æ¨¡å‹ï¼Œæ„å»ºä¸€ä¸ªä¸“é—¨é’ˆå¯¹ç°é‡‘æ£€æµ‹çš„ç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿå°†åˆ©ç”¨1700å¼ å›¾åƒçš„è®­ç»ƒæ•°æ®é›†ï¼Œä¸“æ³¨äºç°é‡‘è¿™ä¸€å•ä¸€ç±»åˆ«çš„æ£€æµ‹ã€‚å°½ç®¡æ•°æ®é›†çš„è§„æ¨¡ç›¸å¯¹è¾ƒå°ï¼Œä½†é€šè¿‡æ•°æ®å¢å¼ºæŠ€æœ¯å’Œè¿ç§»å­¦ä¹ ç­‰æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆæå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œæ£€æµ‹ç²¾åº¦ã€‚æ­¤å¤–ï¼Œç°é‡‘çš„å¤–è§‚ç‰¹å¾ç›¸å¯¹å›ºå®šï¼Œä¸”åœ¨ä¸åŒåœºæ™¯ä¸‹çš„è¡¨ç°å…·æœ‰ä¸€å®šçš„è§„å¾‹æ€§ï¼Œè¿™ä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†è‰¯å¥½çš„åŸºç¡€ã€‚

åœ¨å®é™…åº”ç”¨ä¸­ï¼Œç°é‡‘æ£€æµ‹ç³»ç»Ÿä¸ä»…å¯ä»¥ç”¨äºé‡‘èæœºæ„çš„å®‰å…¨ç›‘æ§ï¼Œè¿˜å¯ä»¥å¹¿æ³›åº”ç”¨äºå•†è¶…ã€è‡ªåŠ¨å”®è´§æœºç­‰åœºæ™¯ï¼Œæå‡ç°é‡‘ç®¡ç†çš„å®‰å…¨æ€§å’Œæ•ˆç‡ã€‚é€šè¿‡å®æ—¶ç›‘æµ‹ç°é‡‘çš„å­˜åœ¨ä¸æ•°é‡ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé¢„é˜²ç°é‡‘ç›—çªƒå’Œå…¶ä»–é‡‘èçŠ¯ç½ªè¡Œä¸ºï¼Œé™ä½ç»æµæŸå¤±ã€‚åŒæ—¶ï¼Œè¯¥ç³»ç»Ÿè¿˜å¯ä»¥ä¸ºç°é‡‘æµåŠ¨çš„åˆ†ææä¾›æ•°æ®æ”¯æŒï¼Œå¸®åŠ©ç›¸å…³æœºæ„ä¼˜åŒ–ç°é‡‘ç®¡ç†ç­–ç•¥ï¼Œæé«˜è¿è¥æ•ˆç‡ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„ç°é‡‘æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶ï¼Œä¸ä»…å…·æœ‰é‡è¦çš„ç†è®ºæ„ä¹‰ï¼Œä¹Ÿå…·å¤‡å¹¿æ³›çš„åº”ç”¨å‰æ™¯ã€‚é€šè¿‡æ·±å…¥æ¢è®¨è¯¥ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°ï¼Œèƒ½å¤Ÿä¸ºç‰©ä½“æ£€æµ‹é¢†åŸŸçš„ç ”ç©¶æä¾›æ–°çš„æ€è·¯å’Œæ–¹æ³•ï¼ŒåŒæ—¶ä¸ºç°é‡‘ç®¡ç†çš„å®‰å…¨æ€§å’Œæ•ˆç‡æå‡è´¡çŒ®åŠ›é‡ã€‚è¿™ä¸€ç ”ç©¶ä¸ä»…æ˜¯å¯¹ç°æœ‰æŠ€æœ¯çš„å»¶ç»­ä¸å‘å±•ï¼Œæ›´æ˜¯å¯¹æœªæ¥æ™ºèƒ½ç›‘æ§ç³»ç»Ÿçš„æ¢ç´¢ä¸åˆ›æ–°ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1Fh4te6Ev5/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 1
names: ['cash']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨ç°ä»£è®¡ç®—æœºè§†è§‰é¢†åŸŸï¼Œç°é‡‘æ£€æµ‹ç³»ç»Ÿçš„å¼€å‘æ—¥ç›Šå—åˆ°å…³æ³¨ï¼Œå°¤å…¶æ˜¯åœ¨é‡‘èç§‘æŠ€å’Œæ™ºèƒ½æ”¯ä»˜ç­‰è¡Œä¸šçš„å¿«é€Ÿå‘å±•èƒŒæ™¯ä¸‹ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªä¸“é—¨ç”¨äºè®­ç»ƒå’Œæ”¹è¿›YOLOv8æ¨¡å‹çš„â€œCash Detectionâ€æ•°æ®é›†ã€‚è¯¥æ•°æ®é›†æ—¨åœ¨æå‡æ¨¡å‹åœ¨ç°é‡‘è¯†åˆ«ä»»åŠ¡ä¸­çš„å‡†ç¡®æ€§å’Œé²æ£’æ€§ï¼Œè¿›è€Œæ¨åŠ¨ç›¸å…³åº”ç”¨çš„æ™ºèƒ½åŒ–è¿›ç¨‹ã€‚

â€œCash Detectionâ€æ•°æ®é›†çš„è®¾è®¡ç†å¿µæ˜¯ä¸“æ³¨äºç°é‡‘çš„æ£€æµ‹ä¸è¯†åˆ«ï¼Œè€ƒè™‘åˆ°ç°é‡‘åœ¨å®é™…åº”ç”¨ä¸­çš„å¤šæ ·æ€§å’Œå¤æ‚æ€§ã€‚è¯¥æ•°æ®é›†çš„ç±»åˆ«æ•°é‡ä¸º1ï¼Œä¸“é—¨é’ˆå¯¹â€œcashâ€è¿™ä¸€ç±»åˆ«è¿›è¡Œæ·±å…¥çš„æ ‡æ³¨å’Œæ•°æ®æ”¶é›†ã€‚é€šè¿‡è¿™ç§å•ä¸€ç±»åˆ«çš„èšç„¦ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é›†ä¸­ç²¾åŠ›ä¼˜åŒ–æ¨¡å‹çš„ç‰¹å®šæ€§èƒ½ï¼Œç¡®ä¿å…¶åœ¨ç°é‡‘æ£€æµ‹ä»»åŠ¡ä¸­çš„è¡¨ç°è¾¾åˆ°æœ€ä½³ã€‚

åœ¨æ•°æ®é›†çš„æ„å»ºè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ”¶é›†äº†å¤§é‡çš„ç°é‡‘å›¾åƒï¼Œæ¶µç›–äº†ä¸åŒé¢é¢ã€ä¸åŒè§’åº¦å’Œä¸åŒå…‰ç…§æ¡ä»¶ä¸‹çš„ç°é‡‘ç…§ç‰‡ã€‚è¿™äº›å›¾åƒä¸ä»…åŒ…æ‹¬äº†å¸¸è§çš„çº¸å¸ï¼Œè¿˜æ¶‰åŠåˆ°ä¸åŒå›½å®¶å’Œåœ°åŒºçš„ç°é‡‘æ ·å¼ï¼Œä»¥å¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚é€šè¿‡å¤šæ ·åŒ–çš„æ ·æœ¬ï¼Œæˆ‘ä»¬åŠ›æ±‚è®©æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­èƒ½å¤Ÿé€‚åº”å„ç§ç¯å¢ƒå’Œæ¡ä»¶ï¼Œå‡å°‘å› ç¯å¢ƒå˜åŒ–å¸¦æ¥çš„è¯†åˆ«è¯¯å·®ã€‚

ä¸ºäº†ç¡®ä¿æ•°æ®é›†çš„é«˜è´¨é‡ï¼Œæˆ‘ä»¬åœ¨å›¾åƒæ ‡æ³¨è¿‡ç¨‹ä¸­é‡‡ç”¨äº†ä¸¥æ ¼çš„æ ‡å‡†ã€‚æ¯ä¸€å¼ å›¾åƒéƒ½ç»è¿‡ä¸“ä¸šäººå‘˜çš„ä»”ç»†å®¡æ ¸å’Œæ ‡æ³¨ï¼Œç¡®ä¿ç°é‡‘çš„è¾¹ç•Œæ¡†ç²¾ç¡®ä¸”ä¸€è‡´ã€‚è¿™ç§ç²¾ç»†åŒ–çš„æ ‡æ³¨ä¸ä»…æå‡äº†æ•°æ®é›†çš„å¯é æ€§ï¼Œä¹Ÿä¸ºåç»­çš„æ¨¡å‹è®­ç»ƒæä¾›äº†åšå®çš„åŸºç¡€ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯¹æ•°æ®é›†è¿›è¡Œäº†é€‚å½“çš„å¢å¼ºå¤„ç†ï¼ŒåŒ…æ‹¬æ—‹è½¬ã€ç¼©æ”¾å’Œé¢œè‰²è°ƒæ•´ç­‰ï¼Œä»¥è¿›ä¸€æ­¥ä¸°å¯Œæ•°æ®æ ·æœ¬çš„å¤šæ ·æ€§ï¼Œä»è€Œæé«˜æ¨¡å‹çš„é²æ£’æ€§ã€‚

åœ¨æ¨¡å‹è®­ç»ƒé˜¶æ®µï¼Œæˆ‘ä»¬å°†â€œCash Detectionâ€æ•°æ®é›†ä¸YOLOv8æ¨¡å‹ç›¸ç»“åˆï¼Œåˆ©ç”¨å…¶å¼ºå¤§çš„ç‰¹å¾æå–èƒ½åŠ›å’Œå®æ—¶æ£€æµ‹æ€§èƒ½ï¼Œæ—¨åœ¨å®ç°é«˜æ•ˆçš„ç°é‡‘è¯†åˆ«ã€‚YOLOv8ä½œä¸ºä¸€ç§å…ˆè¿›çš„ç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œèƒ½å¤Ÿåœ¨ä¿æŒé«˜ç²¾åº¦çš„åŒæ—¶ï¼Œç¡®ä¿å¿«é€Ÿçš„æ¨ç†é€Ÿåº¦ï¼Œé€‚åˆäºå®æ—¶åº”ç”¨åœºæ™¯ã€‚é€šè¿‡ä¸æ–­è¿­ä»£å’Œä¼˜åŒ–ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ç°é‡‘æ£€æµ‹çš„å‡†ç¡®æ€§å’Œé€Ÿåº¦ä¸Šéƒ½èƒ½å–å¾—æ˜¾è‘—çš„æå‡ã€‚

æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜è®¡åˆ’åœ¨æ•°æ®é›†çš„åŸºç¡€ä¸Šè¿›è¡Œè¿›ä¸€æ­¥çš„æ‰©å±•å’Œæ›´æ–°ï¼Œä»¥é€‚åº”ä¸æ–­å˜åŒ–çš„å¸‚åœºéœ€æ±‚å’ŒæŠ€æœ¯è¿›æ­¥ã€‚éšç€ç°é‡‘æ”¯ä»˜æ–¹å¼çš„æ¼”å˜å’Œæ–°å‹æ”¯ä»˜å·¥å…·çš„å‡ºç°ï¼ŒæŒç»­æ›´æ–°çš„æ•°æ®é›†å°†ä¸ºæ¨¡å‹çš„é•¿æœŸæœ‰æ•ˆæ€§æä¾›ä¿éšœã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼Œé€šè¿‡ä¸æ–­çš„åŠªåŠ›å’Œåˆ›æ–°ï¼Œâ€œCash Detectionâ€æ•°æ®é›†å°†ä¸ºç°é‡‘æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶å’Œåº”ç”¨æä¾›é‡è¦çš„æ”¯æŒï¼Œæ¨åŠ¨é‡‘èç§‘æŠ€é¢†åŸŸçš„è¿›ä¸€æ­¥å‘å±•ã€‚

æ€»ä¹‹ï¼Œâ€œCash Detectionâ€æ•°æ®é›†ä¸ä»…æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒYOLOv8æ¨¡å‹çš„å·¥å…·ï¼Œæ›´æ˜¯æ¨åŠ¨ç°é‡‘æ£€æµ‹æŠ€æœ¯è¿›æ­¥çš„é‡è¦èµ„æºã€‚é€šè¿‡é«˜è´¨é‡çš„æ•°æ®å’Œç²¾ç¡®çš„æ ‡æ³¨ï¼Œæˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿåœ¨ç°é‡‘è¯†åˆ«é¢†åŸŸå–å¾—çªç ´ï¼Œä¸ºç›¸å…³è¡Œä¸šçš„æ™ºèƒ½åŒ–å‘å±•è´¡çŒ®åŠ›é‡ã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ç®—æ³•æ˜¯ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€é¡¹é‡è¦è¿›å±•ï¼ŒåŸºäºYOLOv5å’ŒYOLOv7çš„è®¾è®¡ç†å¿µï¼Œæ•´åˆäº†å¤šé¡¹åˆ›æ–°æŠ€æœ¯ï¼Œæ—¨åœ¨æå‡æ£€æµ‹ç²¾åº¦å’Œé€Ÿåº¦ã€‚å…¶ç½‘ç»œç»“æ„ä¾ç„¶ä¿æŒäº†YOLOç³»åˆ—çš„ç»å…¸æ¶æ„ï¼ŒåŒ…æ‹¬è¾“å…¥å±‚ã€ä¸»å¹²ç½‘ç»œã€ç‰¹å¾èåˆå±‚å’Œè§£è€¦å¤´ï¼Œç„¶è€Œåœ¨æ¯ä¸ªæ¨¡å—ä¸­éƒ½è¿›è¡Œäº†é‡è¦çš„æ”¹è¿›å’Œä¼˜åŒ–ã€‚

åœ¨ä¸»å¹²ç½‘ç»œéƒ¨åˆ†ï¼ŒYOLOv8é‡‡ç”¨äº†CSPDarknetçš„è®¾è®¡æ€è·¯ï¼Œå¹¶å°†YOLOv5ä¸­çš„C3æ¨¡å—æ›¿æ¢ä¸ºC2fæ¨¡å—ã€‚C2fæ¨¡å—çš„å¼•å…¥ä¸ä»…å®ç°äº†æ¨¡å‹çš„è½»é‡åŒ–ï¼Œè¿˜åœ¨ä¸ç‰ºç‰²æ£€æµ‹ç²¾åº¦çš„å‰æä¸‹ï¼Œå¢å¼ºäº†ç‰¹å¾æå–çš„èƒ½åŠ›ã€‚C2fæ¨¡å—çš„è®¾è®¡çµæ„Ÿæ¥æºäºYOLOv7çš„ELANæ€æƒ³ï¼Œé‡‡ç”¨äº†æ›´ä¸ºä¸°å¯Œçš„è·³å±‚è¿æ¥ï¼Œä½¿å¾—æ¢¯åº¦æµæ›´åŠ é¡ºç•…ï¼Œè¿›è€Œæœ‰æ•ˆç¼“è§£äº†æ·±å±‚ç½‘ç»œä¸­çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚C2fæ¨¡å—ç”±å¤šä¸ªCBSï¼ˆå·ç§¯+å½’ä¸€åŒ–+SiLUæ¿€æ´»å‡½æ•°ï¼‰æ„æˆï¼Œç»“åˆäº†å¤šæ¡åˆ†æ”¯çš„ç‰¹å¾æµï¼Œç¡®ä¿äº†ç‰¹å¾ä¿¡æ¯çš„å……åˆ†åˆ©ç”¨ã€‚

åœ¨ç‰¹å¾èåˆå±‚ï¼ŒYOLOv8é‡‡ç”¨äº†PAN-FPNï¼ˆPath Aggregation Network - Feature Pyramid Networkï¼‰ç»“æ„ï¼Œè¿›ä¸€æ­¥æå‡äº†å¤šå°ºåº¦ç‰¹å¾çš„èåˆèƒ½åŠ›ã€‚é€šè¿‡å¯¹é«˜å±‚ç‰¹å¾å’Œä¸­å±‚ç‰¹å¾çš„è‡ªä¸‹è€Œä¸Šçš„èåˆï¼ŒYOLOv8èƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰åˆ°ä¸åŒå°ºåº¦ä¸‹çš„ç›®æ ‡ä¿¡æ¯ã€‚ç‰¹å¾èåˆçš„è¿‡ç¨‹é€šè¿‡åˆ é™¤ä¸Šé‡‡æ ·é˜¶æ®µçš„å·ç§¯å±‚ï¼Œä½¿å¾—é«˜å±‚ç‰¹å¾èƒ½å¤Ÿç›´æ¥ä¸ä¸­å±‚ç‰¹å¾è¿›è¡Œè¿æ¥ï¼Œä»è€Œä¿ç•™äº†æ›´å¤šçš„ç»†èŠ‚ä¿¡æ¯ã€‚è¿™ç§è®¾è®¡ä¸ä»…æé«˜äº†ç‰¹å¾èåˆçš„æ•ˆç‡ï¼Œè¿˜ç¡®ä¿äº†åœ¨ä¸åŒå±‚æ¬¡ä¸Šéƒ½èƒ½æœ‰æ•ˆåœ°è¿›è¡Œç›®æ ‡æ£€æµ‹ã€‚

YOLOv8åœ¨ç›®æ ‡æ£€æµ‹çš„æ ¸å¿ƒæ€æƒ³ä¸Šè¿›è¡Œäº†é‡è¦çš„åˆ›æ–°ï¼Œæ‘’å¼ƒäº†ä¼ ç»Ÿçš„Anchor-Baseæ–¹æ³•ï¼Œè½¬è€Œé‡‡ç”¨Anchor-Freeçš„ç­–ç•¥ã€‚è¿™ä¸€è½¬å˜ä½¿å¾—æ¨¡å‹åœ¨å¤„ç†ç›®æ ‡æ—¶æ›´åŠ çµæ´»ï¼Œèƒ½å¤Ÿç›´æ¥é¢„æµ‹ç›®æ ‡çš„ä¸­å¿ƒä½ç½®ï¼Œå¹¶é€šè¿‡Task-Alignedçš„åŒ¹é…ç­–ç•¥æ¥ä¼˜åŒ–æ ·æœ¬çš„åŒ¹é…è¿‡ç¨‹ã€‚è¿™ç§æ–°çš„åŒ¹é…æ–¹å¼ï¼Œç»“åˆäº†åˆ†ç±»åˆ†æ•°å’ŒIOUçš„é«˜æ¬¡å¹‚ä¹˜ç§¯ï¼Œç¡®ä¿äº†æ¨¡å‹åœ¨åˆ†ç±»å’Œå®šä½ä»»åŠ¡ä¸Šçš„é«˜æ•ˆæ€§å’Œå‡†ç¡®æ€§ã€‚

åœ¨æŸå¤±å‡½æ•°çš„è®¾è®¡ä¸Šï¼ŒYOLOv8å¼•å…¥äº†VFLLossä½œä¸ºåˆ†ç±»æŸå¤±ï¼Œå¹¶ç»“åˆDFLLosså’ŒCIoULossæ¥ä¼˜åŒ–è¾¹æ¡†å›å½’ã€‚è¿™ç§å¤šæŸå¤±å‡½æ•°çš„ç»„åˆï¼Œæ—¨åœ¨æå‡æ¨¡å‹å¯¹éš¾ä»¥åˆ†ç±»æ ·æœ¬çš„æ•æ„Ÿæ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†æ ·æœ¬ä¸å¹³è¡¡çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæé«˜æ£€æµ‹ç²¾åº¦ã€‚Focal Lossçš„å¼•å…¥ï¼Œè¿›ä¸€æ­¥å¢å¼ºäº†æ¨¡å‹å¯¹å°ç›®æ ‡å’Œå›°éš¾æ ·æœ¬çš„å­¦ä¹ èƒ½åŠ›ï¼Œç¡®ä¿äº†åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒYOLOv8èƒ½å¤Ÿåœ¨å¤æ‚åœºæ™¯ä¸‹ä¾ç„¶ä¿æŒé«˜æ•ˆçš„æ£€æµ‹æ€§èƒ½ã€‚

YOLOv8çš„å¤´éƒ¨ç»“æ„å€Ÿé‰´äº†YOLOXå’ŒYOLOv6çš„è§£è€¦å¤´è®¾è®¡ï¼Œé‡‡ç”¨äº†äºŒé˜¶æ®µçš„FCOSç›®æ ‡æ£€æµ‹ç½‘ç»œã€‚é€šè¿‡å°†åˆ†ç±»å’Œå›å½’ä»»åŠ¡åˆ†å¼€å¤„ç†ï¼ŒYOLOv8èƒ½å¤Ÿåœ¨ä¸åŒçš„åˆ†æ”¯ä¸­ä¸“æ³¨äºå„è‡ªçš„ä»»åŠ¡ç‰¹æ€§ï¼Œä»è€Œæé«˜äº†æ”¶æ•›é€Ÿåº¦å’Œé¢„æµ‹ç²¾åº¦ã€‚è§£è€¦å¤´çš„è®¾è®¡ä½¿å¾—æ¨¡å‹åœ¨è¿›è¡Œç›®æ ‡åˆ†ç±»æ—¶ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°åˆ†æç‰¹å¾å›¾ä¸­çš„ä¿¡æ¯ï¼Œè€Œåœ¨è¾¹æ¡†å›å½’æ—¶ï¼Œåˆ™æ›´å…³æ³¨è¾¹ç•Œæ¡†ä¸çœŸå®æ¡†ä¹‹é—´çš„å…³ç³»ã€‚è¿™ç§ç»“æ„çš„ä¼˜åŒ–ï¼Œç»“åˆäº†YOLOv8çš„æ— é”šæ¡†ç‰¹æ€§ï¼Œä½¿å¾—æ¨¡å‹åœ¨ç›®æ ‡æ£€æµ‹çš„å„ä¸ªæ–¹é¢éƒ½è¾¾åˆ°äº†æ–°çš„é«˜åº¦ã€‚

æ•°æ®é¢„å¤„ç†æ–¹é¢ï¼ŒYOLOv8åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é‡‡ç”¨äº†å¤šç§å¢å¼ºæ‰‹æ®µï¼ŒåŒ…æ‹¬é©¬èµ›å…‹å¢å¼ºã€æ··åˆå¢å¼ºã€ç©ºé—´æ‰°åŠ¨å’Œé¢œè‰²æ‰°åŠ¨ç­‰ï¼Œä»¥æé«˜æ¨¡å‹çš„é²æ£’æ€§å’Œæ³›åŒ–èƒ½åŠ›ã€‚ç„¶è€Œï¼Œåœ¨è®­ç»ƒçš„æœ€åé˜¶æ®µï¼ŒYOLOv8åœæ­¢ä½¿ç”¨é©¬èµ›å…‹å¢å¼ºï¼Œä»¥é¿å…å¯¹æ•°æ®çœŸå®åˆ†å¸ƒçš„å¹²æ‰°ã€‚è¿™ä¸€ç­–ç•¥çš„è°ƒæ•´ï¼Œç¡®ä¿äº†æ¨¡å‹åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­èƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰åˆ°ç›®æ ‡çš„çœŸå®ç‰¹å¾ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒYOLOv8ç®—æ³•é€šè¿‡å¯¹ç½‘ç»œç»“æ„çš„ä¼˜åŒ–ã€ç‰¹å¾èåˆçš„å¢å¼ºã€æŸå¤±å‡½æ•°çš„åˆ›æ–°ä»¥åŠæ•°æ®é¢„å¤„ç†ç­–ç•¥çš„è°ƒæ•´ï¼ŒæˆåŠŸåœ°æå‡äº†ç›®æ ‡æ£€æµ‹çš„æ€§èƒ½ã€‚å…¶åœ¨ç²¾åº¦å’Œé€Ÿåº¦ä¸Šçš„åŒé‡ä¼˜åŠ¿ï¼Œä½¿å¾—YOLOv8åœ¨å®é™…åº”ç”¨ä¸­å±•ç°å‡ºå¹¿æ³›çš„æ½œåŠ›ï¼Œå°¤å…¶æ˜¯åœ¨å®æ—¶ç›®æ ‡æ£€æµ‹ä»»åŠ¡ä¸­ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæ»¡è¶³å¯¹é€Ÿåº¦å’Œå‡†ç¡®æ€§çš„é«˜è¦æ±‚ã€‚éšç€YOLOv8çš„æ¨å‡ºï¼Œç›®æ ‡æ£€æµ‹é¢†åŸŸè¿æ¥äº†æ–°çš„å‘å±•æœºé‡ï¼Œä¸ºåç»­çš„ç ”ç©¶å’Œåº”ç”¨æä¾›äº†åšå®çš„åŸºç¡€ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\yolo\segment\__init__.py

ä»¥ä¸‹æ˜¯å¯¹ç»™å®šä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†è¿›è¡Œæç‚¼å’Œè¯¦ç»†æ³¨é‡Šçš„ç»“æœï¼š

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license

# ä»å½“å‰æ¨¡å—å¯¼å…¥ä¸‰ä¸ªç±»ï¼šSegmentationPredictorã€SegmentationTrainer å’Œ SegmentationValidator
from .predict import SegmentationPredictor  # å¯¼å…¥ç”¨äºå›¾åƒåˆ†å‰²é¢„æµ‹çš„ç±»
from .train import SegmentationTrainer      # å¯¼å…¥ç”¨äºè®­ç»ƒå›¾åƒåˆ†å‰²æ¨¡å‹çš„ç±»
from .val import SegmentationValidator       # å¯¼å…¥ç”¨äºéªŒè¯å›¾åƒåˆ†å‰²æ¨¡å‹æ€§èƒ½çš„ç±»

# å®šä¹‰æ¨¡å—çš„å…¬å¼€æ¥å£ï¼Œç¡®ä¿å¤–éƒ¨å¯ä»¥è®¿é—®è¿™ä¸‰ä¸ªç±»
__all__ = 'SegmentationPredictor', 'SegmentationTrainer', 'SegmentationValidator'
```

### ä»£ç åˆ†æä¸æ³¨é‡Šï¼š

1. **æ¨¡å—å¯¼å…¥**ï¼š
   - `from .predict import SegmentationPredictor`ï¼šè¿™è¡Œä»£ç ä»å½“å‰åŒ…çš„ `predict` æ¨¡å—ä¸­å¯¼å…¥ `SegmentationPredictor` ç±»ï¼Œè¯¥ç±»è´Ÿè´£å¤„ç†å›¾åƒåˆ†å‰²çš„é¢„æµ‹ä»»åŠ¡ã€‚
   - `from .train import SegmentationTrainer`ï¼šè¿™è¡Œä»£ç ä»å½“å‰åŒ…çš„ `train` æ¨¡å—ä¸­å¯¼å…¥ `SegmentationTrainer` ç±»ï¼Œè¯¥ç±»ç”¨äºè®­ç»ƒå›¾åƒåˆ†å‰²æ¨¡å‹ã€‚
   - `from .val import SegmentationValidator`ï¼šè¿™è¡Œä»£ç ä»å½“å‰åŒ…çš„ `val` æ¨¡å—ä¸­å¯¼å…¥ `SegmentationValidator` ç±»ï¼Œè¯¥ç±»ç”¨äºéªŒè¯è®­ç»ƒå¥½çš„æ¨¡å‹çš„æ€§èƒ½ã€‚

2. **å…¬å¼€æ¥å£**ï¼š
   - `__all__` æ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œç”¨äºå®šä¹‰å½“ä½¿ç”¨ `from module import *` è¯­å¥æ—¶ï¼Œå“ªäº›åç§°æ˜¯å¯ä»¥è¢«å¯¼å…¥çš„ã€‚åœ¨è¿™é‡Œï¼Œå®šä¹‰äº†ä¸‰ä¸ªç±» `SegmentationPredictor`ã€`SegmentationTrainer` å’Œ `SegmentationValidator`ï¼Œè¡¨ç¤ºè¿™äº›ç±»æ˜¯æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½éƒ¨åˆ†ï¼Œå¤–éƒ¨ç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒä»¬ã€‚

é€šè¿‡è¿™æ ·çš„ç»“æ„ï¼Œä»£ç å®ç°äº†æ¨¡å—åŒ–è®¾è®¡ï¼Œä½¿å¾—å›¾åƒåˆ†å‰²ç›¸å…³çš„åŠŸèƒ½å¯ä»¥è¢«æ¸…æ™°åœ°ç»„ç»‡å’Œè°ƒç”¨ã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®ä¸­çš„ä¸€ä¸ªåˆå§‹åŒ–æ–‡ä»¶ï¼Œé€šå¸¸å‘½åä¸º`__init__.py`ï¼Œç”¨äºå°†è¯¥ç›®å½•æ ‡è¯†ä¸ºä¸€ä¸ªPythonåŒ…ã€‚æ–‡ä»¶ä¸­é¦–å…ˆåŒ…å«äº†ä¸€æ¡ç‰ˆæƒå£°æ˜ï¼Œè¡¨æ˜è¯¥é¡¹ç›®éµå¾ªAGPL-3.0è®¸å¯è¯ã€‚

æ¥ä¸‹æ¥ï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸‰ä¸ªæ¨¡å—ï¼š`SegmentationPredictor`ã€`SegmentationTrainer`å’Œ`SegmentationValidator`ã€‚è¿™äº›æ¨¡å—åˆ†åˆ«è´Ÿè´£ä¸åŒçš„åŠŸèƒ½ï¼Œå…·ä½“æ¥è¯´ï¼Œ`SegmentationPredictor`ç”¨äºå›¾åƒåˆ†å‰²çš„é¢„æµ‹ï¼Œ`SegmentationTrainer`ç”¨äºè®­ç»ƒåˆ†å‰²æ¨¡å‹ï¼Œè€Œ`SegmentationValidator`åˆ™ç”¨äºéªŒè¯æ¨¡å‹çš„æ€§èƒ½ã€‚

æœ€åï¼Œ`__all__`å˜é‡å®šä¹‰äº†å½“ä½¿ç”¨`from module import *`è¯­å¥æ—¶ï¼Œå“ªäº›åç§°ä¼šè¢«å¯¼å…¥ã€‚è¿™é‡Œåˆ—å‡ºäº†ä¸‰ä¸ªç±»ï¼Œç¡®ä¿å®ƒä»¬å¯ä»¥è¢«å¤–éƒ¨æ¨¡å—è®¿é—®ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯ç»„ç»‡å’Œæš´éœ²ä¸YOLOv8å›¾åƒåˆ†å‰²ç›¸å…³çš„åŠŸèƒ½æ¨¡å—ï¼Œä½¿å¾—å…¶ä»–éƒ¨åˆ†çš„ä»£ç èƒ½å¤Ÿæ–¹ä¾¿åœ°ä½¿ç”¨è¿™äº›åŠŸèƒ½ã€‚

#### 11.2 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")


# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šæ‚¨çš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œç›´æ¥æŒ‡å®šè„šæœ¬è·¯å¾„

    # è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†åŠæ³¨é‡Š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   ```python
   import sys
   import subprocess
   ```
   - `sys` æ¨¡å—ç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç´§å¯†ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ã€‚
   - `subprocess` æ¨¡å—å…è®¸æˆ‘ä»¬ç”Ÿæˆæ–°çš„è¿›ç¨‹ï¼Œè¿æ¥åˆ°å®ƒä»¬çš„è¾“å…¥/è¾“å‡º/é”™è¯¯ç®¡é“ï¼Œå¹¶è·å¾—å®ƒä»¬çš„è¿”å›ç ã€‚

2. **å®šä¹‰ `run_script` å‡½æ•°**ï¼š
   ```python
   def run_script(script_path):
   ```
   - è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„ Python è„šæœ¬çš„è·¯å¾„ã€‚

3. **è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„**ï¼š
   ```python
   python_path = sys.executable
   ```
   - `sys.executable` è¿”å›å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œç¡®ä¿æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯æ­£ç¡®çš„ Python ç¯å¢ƒæ¥è¿è¡Œè„šæœ¬ã€‚

4. **æ„å»ºè¿è¡Œå‘½ä»¤**ï¼š
   ```python
   command = f'"{python_path}" -m streamlit run "{script_path}"'
   ```
   - ä½¿ç”¨ f-string æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤è¡Œå‘½ä»¤ï¼Œç”¨äºè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚è¿™é‡Œä½¿ç”¨äº† `streamlit` æ¨¡å—æ¥è¿è¡Œè„šæœ¬ã€‚

5. **æ‰§è¡Œå‘½ä»¤**ï¼š
   ```python
   result = subprocess.run(command, shell=True)
   ```
   - `subprocess.run` æ–¹æ³•æ‰§è¡Œæ„å»ºçš„å‘½ä»¤ã€‚`shell=True` å…è®¸æˆ‘ä»¬åœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ã€‚

6. **æ£€æŸ¥å‘½ä»¤æ‰§è¡Œç»“æœ**ï¼š
   ```python
   if result.returncode != 0:
       print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")
   ```
   - æ£€æŸ¥å‘½ä»¤çš„è¿”å›ç ï¼Œå¦‚æœä¸ä¸º 0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ã€‚

7. **ä¸»ç¨‹åºå…¥å£**ï¼š
   ```python
   if __name__ == "__main__":
   ```
   - è¿™éƒ¨åˆ†ä»£ç ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ï¼Œè€Œä¸æ˜¯è¢«å¯¼å…¥ä¸ºæ¨¡å—æ—¶ã€‚

8. **æŒ‡å®šè„šæœ¬è·¯å¾„å¹¶è¿è¡Œ**ï¼š
   ```python
   script_path = "web.py"  # è¿™é‡Œç›´æ¥æŒ‡å®šè„šæœ¬è·¯å¾„
   run_script(script_path)
   ```
   - æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°æ¥æ‰§è¡Œè¯¥è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ˜¯ä¸€ä¸ªåä¸º `web.py` çš„æ–‡ä»¶ã€‚é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œè¿™äº›æ¨¡å—æä¾›äº†ä¸ç³»ç»Ÿäº¤äº’å’Œæ‰§è¡Œå¤–éƒ¨å‘½ä»¤çš„åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œè¿˜å¯¼å…¥äº† `abs_path` å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥è‡ªäº `QtFusion.path` æ¨¡å—ï¼Œç”¨äºè·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚

åœ¨ `run_script` å‡½æ•°ä¸­ï¼Œé¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œå­˜å‚¨åœ¨ `python_path` å˜é‡ä¸­ã€‚æ¥ç€ï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œè¯¥å‘½ä»¤ä½¿ç”¨ `streamlit` æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚è¿™é‡Œçš„å‘½ä»¤æ ¼å¼ä¸º `"{python_path}" -m streamlit run "{script_path}"`ï¼Œå…¶ä¸­ `script_path` æ˜¯è¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚

ç„¶åï¼Œä½¿ç”¨ `subprocess.run` æ–¹æ³•æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œ`shell=True` å‚æ•°è¡¨ç¤ºåœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ã€‚æ‰§è¡Œåï¼Œç¨‹åºæ£€æŸ¥è¿”å›ç  `result.returncode`ï¼Œå¦‚æœä¸ç­‰äº 0ï¼Œè¯´æ˜è„šæœ¬è¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯ï¼Œç¨‹åºä¼šæ‰“å°å‡ºâ€œè„šæœ¬è¿è¡Œå‡ºé”™ã€‚â€çš„æç¤ºä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` æ¥åˆ¤æ–­å½“å‰æ¨¡å—æ˜¯å¦æ˜¯ä¸»ç¨‹åºã€‚å¦‚æœæ˜¯ï¼Œç¨‹åºä¼šè°ƒç”¨ `abs_path` å‡½æ•°æ¥è·å– `web.py` çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ `run_script` å‡½æ•°ï¼Œä»è€Œå¯åŠ¨è¯¥è„šæœ¬çš„è¿è¡Œã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºçš„è®¾è®¡æ˜¯ä¸ºäº†æ–¹ä¾¿åœ°åœ¨ Python ç¯å¢ƒä¸­è¿è¡Œä¸€ä¸ª Streamlit åº”ç”¨è„šæœ¬ï¼Œå¹¶èƒ½å¤Ÿå¤„ç†å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚

#### 11.3 code\ultralytics\data\split_dota.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import itertools
from glob import glob
from math import ceil
from pathlib import Path
import cv2
import numpy as np
from PIL import Image
from tqdm import tqdm
from ultralytics.data.utils import exif_size, img2label_paths

def load_yolo_dota(data_root, split="train"):
    """
    åŠ è½½DOTAæ•°æ®é›†ã€‚

    å‚æ•°:
        data_root (str): æ•°æ®æ ¹ç›®å½•ã€‚
        split (str): æ•°æ®é›†çš„åˆ’åˆ†ï¼Œå¯ä»¥æ˜¯'train'æˆ–'val'ã€‚

    æ³¨æ„:
        DOTAæ•°æ®é›†çš„ç›®å½•ç»“æ„å‡è®¾å¦‚ä¸‹ï¼š
            - data_root
                - images
                    - train
                    - val
                - labels
                    - train
                    - val
    """
    assert split in ["train", "val"]
    im_dir = Path(data_root) / "images" / split
    assert im_dir.exists(), f"æ‰¾ä¸åˆ° {im_dir}ï¼Œè¯·æ£€æŸ¥æ•°æ®æ ¹ç›®å½•ã€‚"
    im_files = glob(str(Path(data_root) / "images" / split / "*"))
    lb_files = img2label_paths(im_files)
    annos = []
    for im_file, lb_file in zip(im_files, lb_files):
        w, h = exif_size(Image.open(im_file))  # è·å–å›¾åƒçš„åŸå§‹å®½é«˜
        with open(lb_file) as f:
            lb = [x.split() for x in f.read().strip().splitlines() if len(x)]
            lb = np.array(lb, dtype=np.float32)  # è½¬æ¢æ ‡ç­¾ä¸ºæµ®ç‚¹å‹æ•°ç»„
        annos.append(dict(ori_size=(h, w), label=lb, filepath=im_file))  # ä¿å­˜åŸå§‹å°ºå¯¸ã€æ ‡ç­¾å’Œæ–‡ä»¶è·¯å¾„
    return annos

def get_windows(im_size, crop_sizes=[1024], gaps=[200], im_rate_thr=0.6, eps=0.01):
    """
    è·å–çª—å£çš„åæ ‡ã€‚

    å‚æ•°:
        im_size (tuple): åŸå§‹å›¾åƒå¤§å°ï¼Œ(h, w)ã€‚
        crop_sizes (List(int)): çª—å£çš„è£å‰ªå¤§å°ã€‚
        gaps (List(int)): çª—å£ä¹‹é—´çš„é—´éš”ã€‚
        im_rate_thr (float): çª—å£é¢ç§¯ä¸å›¾åƒé¢ç§¯çš„é˜ˆå€¼ã€‚
    """
    h, w = im_size
    windows = []
    for crop_size, gap in zip(crop_sizes, gaps):
        assert crop_size > gap, f"æ— æ•ˆçš„è£å‰ªå¤§å°å’Œé—´éš”å¯¹ [{crop_size} {gap}]"
        step = crop_size - gap

        xn = 1 if w <= crop_size else ceil((w - crop_size) / step + 1)  # è®¡ç®—åœ¨å®½åº¦æ–¹å‘ä¸Šå¯ä»¥æ”¾ç½®çš„çª—å£æ•°é‡
        xs = [step * i for i in range(xn)]
        if len(xs) > 1 and xs[-1] + crop_size > w:
            xs[-1] = w - crop_size  # ç¡®ä¿æœ€åä¸€ä¸ªçª—å£ä¸è¶…å‡ºè¾¹ç•Œ

        yn = 1 if h <= crop_size else ceil((h - crop_size) / step + 1)  # è®¡ç®—åœ¨é«˜åº¦æ–¹å‘ä¸Šå¯ä»¥æ”¾ç½®çš„çª—å£æ•°é‡
        ys = [step * i for i in range(yn)]
        if len(ys) > 1 and ys[-1] + crop_size > h:
            ys[-1] = h - crop_size  # ç¡®ä¿æœ€åä¸€ä¸ªçª—å£ä¸è¶…å‡ºè¾¹ç•Œ

        start = np.array(list(itertools.product(xs, ys)), dtype=np.int64)  # çª—å£çš„èµ·å§‹åæ ‡
        stop = start + crop_size  # çª—å£çš„ç»“æŸåæ ‡
        windows.append(np.concatenate([start, stop], axis=1))  # åˆå¹¶èµ·å§‹å’Œç»“æŸåæ ‡
    windows = np.concatenate(windows, axis=0)  # åˆå¹¶æ‰€æœ‰çª—å£

    # è®¡ç®—çª—å£å†…çš„å›¾åƒåŒºåŸŸå’Œçª—å£é¢ç§¯
    im_in_wins = windows.copy()
    im_in_wins[:, 0::2] = np.clip(im_in_wins[:, 0::2], 0, w)
    im_in_wins[:, 1::2] = np.clip(im_in_wins[:, 1::2], 0, h)
    im_areas = (im_in_wins[:, 2] - im_in_wins[:, 0]) * (im_in_wins[:, 3] - im_in_wins[:, 1])
    win_areas = (windows[:, 2] - windows[:, 0]) * (windows[:, 3] - windows[:, 1])
    im_rates = im_areas / win_areas  # è®¡ç®—å›¾åƒåŒºåŸŸä¸çª—å£åŒºåŸŸçš„æ¯”ç‡
    if not (im_rates > im_rate_thr).any():
        max_rate = im_rates.max()
        im_rates[abs(im_rates - max_rate) < eps] = 1  # å¦‚æœæ²¡æœ‰çª—å£ç¬¦åˆé˜ˆå€¼ï¼Œè®¾ç½®æœ€å¤§æ¯”ç‡ä¸º1
    return windows[im_rates > im_rate_thr]  # è¿”å›ç¬¦åˆé˜ˆå€¼çš„çª—å£

def crop_and_save(anno, windows, window_objs, im_dir, lb_dir):
    """
    è£å‰ªå›¾åƒå¹¶ä¿å­˜æ–°çš„æ ‡ç­¾ã€‚

    å‚æ•°:
        anno (dict): æ³¨é‡Šå­—å…¸ï¼ŒåŒ…æ‹¬ `filepath`ã€`label`ã€`ori_size` ä½œä¸ºå…¶é”®ã€‚
        windows (list): çª—å£åæ ‡åˆ—è¡¨ã€‚
        window_objs (list): æ¯ä¸ªçª—å£å†…çš„æ ‡ç­¾åˆ—è¡¨ã€‚
        im_dir (str): å›¾åƒè¾“å‡ºç›®å½•è·¯å¾„ã€‚
        lb_dir (str): æ ‡ç­¾è¾“å‡ºç›®å½•è·¯å¾„ã€‚
    """
    im = cv2.imread(anno["filepath"])  # è¯»å–åŸå§‹å›¾åƒ
    name = Path(anno["filepath"]).stem  # è·å–æ–‡ä»¶åï¼ˆä¸å¸¦æ‰©å±•åï¼‰
    for i, window in enumerate(windows):
        x_start, y_start, x_stop, y_stop = window.tolist()  # è·å–çª—å£çš„èµ·å§‹å’Œç»“æŸåæ ‡
        new_name = f"{name}__{x_stop - x_start}__{x_start}___{y_start}"  # æ–°æ–‡ä»¶å
        patch_im = im[y_start:y_stop, x_start:x_stop]  # è£å‰ªå›¾åƒ
        ph, pw = patch_im.shape[:2]  # è·å–è£å‰ªåå›¾åƒçš„é«˜åº¦å’Œå®½åº¦

        cv2.imwrite(str(Path(im_dir) / f"{new_name}.jpg"), patch_im)  # ä¿å­˜è£å‰ªåçš„å›¾åƒ
        label = window_objs[i]  # è·å–å½“å‰çª—å£çš„æ ‡ç­¾
        if len(label) == 0:
            continue  # å¦‚æœæ²¡æœ‰æ ‡ç­¾ï¼Œè·³è¿‡

        # å½’ä¸€åŒ–æ ‡ç­¾åæ ‡
        label[:, 1::2] -= x_start
        label[:, 2::2] -= y_start
        label[:, 1::2] /= pw
        label[:, 2::2] /= ph

        # ä¿å­˜æ ‡ç­¾åˆ°æ–‡ä»¶
        with open(Path(lb_dir) / f"{new_name}.txt", "w") as f:
            for lb in label:
                formatted_coords = ["{:.6g}".format(coord) for coord in lb[1:]]
                f.write(f"{int(lb[0])} {' '.join(formatted_coords)}\n")

def split_images_and_labels(data_root, save_dir, split="train", crop_sizes=[1024], gaps=[200]):
    """
    åˆ†å‰²å›¾åƒå’Œæ ‡ç­¾ã€‚

    æ³¨æ„:
        DOTAæ•°æ®é›†çš„ç›®å½•ç»“æ„å‡è®¾å¦‚ä¸‹ï¼š
            - data_root
                - images
                    - split
                - labels
                    - split
        è¾“å‡ºç›®å½•ç»“æ„ä¸ºï¼š
            - save_dir
                - images
                    - split
                - labels
                    - split
    """
    im_dir = Path(save_dir) / "images" / split
    im_dir.mkdir(parents=True, exist_ok=True)  # åˆ›å»ºå›¾åƒè¾“å‡ºç›®å½•
    lb_dir = Path(save_dir) / "labels" / split
    lb_dir.mkdir(parents=True, exist_ok=True)  # åˆ›å»ºæ ‡ç­¾è¾“å‡ºç›®å½•

    annos = load_yolo_dota(data_root, split=split)  # åŠ è½½æ³¨é‡Š
    for anno in tqdm(annos, total=len(annos), desc=split):
        windows = get_windows(anno["ori_size"], crop_sizes, gaps)  # è·å–çª—å£
        window_objs = get_window_obj(anno, windows)  # è·å–æ¯ä¸ªçª—å£å†…çš„å¯¹è±¡
        crop_and_save(anno, windows, window_objs, str(im_dir), str(lb_dir))  # è£å‰ªå¹¶ä¿å­˜

if __name__ == "__main__":
    split_trainval(data_root="DOTAv2", save_dir="DOTAv2-split")  # åˆ†å‰²è®­ç»ƒå’ŒéªŒè¯é›†
    split_test(data_root="DOTAv2", save_dir="DOTAv2-split")  # åˆ†å‰²æµ‹è¯•é›†
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†æ¦‚è¿°ï¼š
1. **åŠ è½½æ•°æ®é›†**ï¼š`load_yolo_dota` å‡½æ•°è´Ÿè´£åŠ è½½DOTAæ•°æ®é›†çš„å›¾åƒå’Œæ ‡ç­¾ã€‚
2. **çª—å£ç”Ÿæˆ**ï¼š`get_windows` å‡½æ•°æ ¹æ®ç»™å®šçš„å›¾åƒå¤§å°å’Œè£å‰ªå‚æ•°ç”Ÿæˆçª—å£åæ ‡ã€‚
3. **è£å‰ªä¸ä¿å­˜**ï¼š`crop_and_save` å‡½æ•°æ ¹æ®çª—å£åæ ‡è£å‰ªå›¾åƒå¹¶ä¿å­˜ç›¸åº”çš„æ ‡ç­¾ã€‚
4. **ä¸»å‡½æ•°**ï¼š`split_images_and_labels` å‡½æ•°å°†å›¾åƒå’Œæ ‡ç­¾åˆ†å‰²æˆå°å—ï¼Œå¹¶ä¿å­˜åˆ°æŒ‡å®šç›®å½•ã€‚

è¿™äº›å‡½æ•°å…±åŒå·¥ä½œï¼Œå®ç°äº†ä»åŸå§‹æ•°æ®é›†ä¸­åŠ è½½æ•°æ®ã€ç”Ÿæˆçª—å£ã€è£å‰ªå›¾åƒä»¥åŠä¿å­˜è£å‰ªåçš„å›¾åƒå’Œæ ‡ç­¾çš„å®Œæ•´æµç¨‹ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ä¸»è¦ç”¨äºå¤„ç†DOTAï¼ˆDataset for Object Detection in Aerial Imagesï¼‰æ•°æ®é›†çš„å›¾åƒå’Œæ ‡ç­¾çš„åˆ†å‰²ã€‚ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯å°†å¤§å›¾åƒåˆ‡å‰²æˆå¤šä¸ªå°å›¾åƒï¼Œå¹¶ç›¸åº”åœ°è°ƒæ•´å’Œä¿å­˜å…¶æ ‡ç­¾ã€‚ä»¥ä¸‹æ˜¯å¯¹ç¨‹åºå„éƒ¨åˆ†çš„è¯¦ç»†è¯´æ˜ã€‚

é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†ä¸€äº›å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬ç”¨äºå›¾åƒå¤„ç†çš„OpenCVå’ŒPILï¼Œæ•°ç»„å¤„ç†çš„NumPyï¼Œä»¥åŠç”¨äºå‡ ä½•è®¡ç®—çš„Shapelyåº“ã€‚ç¨‹åºè¿˜å®šä¹‰äº†ä¸€äº›è¾…åŠ©å‡½æ•°æ¥å¤„ç†è¾¹ç•Œæ¡†å’Œå¤šè¾¹å½¢çš„äº¤é›†ã€åŠ è½½æ•°æ®é›†ã€è·å–çª—å£åæ ‡ç­‰ã€‚

`bbox_iof`å‡½æ•°è®¡ç®—ä¸¤ä¸ªè¾¹ç•Œæ¡†ä¹‹é—´çš„äº¤é›†æ¯”ï¼ˆIntersection over Union, IoUï¼‰ï¼Œç”¨äºè¯„ä¼°é‡å åŒºåŸŸçš„å¤§å°ã€‚è¯¥å‡½æ•°æ¥æ”¶å¤šè¾¹å½¢å’Œè¾¹ç•Œæ¡†çš„åæ ‡ï¼Œè®¡ç®—å®ƒä»¬çš„äº¤é›†é¢ç§¯å’Œå¹¶é›†é¢ç§¯ï¼Œä»è€Œå¾—åˆ°IoUå€¼ã€‚

`load_yolo_dota`å‡½æ•°ç”¨äºåŠ è½½DOTAæ•°æ®é›†çš„å›¾åƒå’Œæ ‡ç­¾ã€‚å®ƒæ ¹æ®æŒ‡å®šçš„åˆ†å‰²ï¼ˆè®­ç»ƒé›†æˆ–éªŒè¯é›†ï¼‰è¯»å–å›¾åƒå’Œç›¸åº”çš„æ ‡ç­¾æ–‡ä»¶ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ä¸€ä¸ªå­—å…¸åˆ—è¡¨ä¸­ï¼ŒåŒ…å«åŸå§‹å›¾åƒå¤§å°ã€æ ‡ç­¾å’Œæ–‡ä»¶è·¯å¾„ã€‚

`get_windows`å‡½æ•°æ ¹æ®åŸå§‹å›¾åƒçš„å¤§å°å’ŒæŒ‡å®šçš„è£å‰ªå°ºå¯¸åŠé—´éš”ï¼Œè®¡ç®—å‡ºå¤šä¸ªçª—å£çš„åæ ‡ã€‚è¿™äº›çª—å£å°†ç”¨äºåç»­çš„å›¾åƒè£å‰ªã€‚

`get_window_obj`å‡½æ•°æ ¹æ®ç»™å®šçš„çª—å£å’Œæ ‡ç­¾ï¼Œæå–æ¯ä¸ªçª—å£å†…çš„å¯¹è±¡ä¿¡æ¯ã€‚å®ƒä¼šè®¡ç®—æ¯ä¸ªçª—å£ä¸æ ‡ç­¾çš„IoUï¼Œå¹¶è¿”å›ç¬¦åˆé˜ˆå€¼çš„æ ‡ç­¾ã€‚

`crop_and_save`å‡½æ•°è´Ÿè´£æ ¹æ®çª—å£åæ ‡è£å‰ªå›¾åƒï¼Œå¹¶ä¿å­˜è£å‰ªåçš„å›¾åƒå’Œæ›´æ–°åçš„æ ‡ç­¾ã€‚è£å‰ªåçš„æ ‡ç­¾ä¼šæ ¹æ®çª—å£çš„ä½ç½®è¿›è¡Œè°ƒæ•´ï¼Œä»¥ç¡®ä¿å®ƒä»¬ä¸æ–°å›¾åƒçš„åæ ‡ç³»ç»Ÿä¸€è‡´ã€‚

`split_images_and_labels`å‡½æ•°æ˜¯ä¸»å‡½æ•°ä¹‹ä¸€ï¼Œå®ƒä¼šéå†æ‰€æœ‰çš„æ³¨é‡Šæ•°æ®ï¼Œè®¡ç®—çª—å£ï¼Œæå–å¯¹è±¡ä¿¡æ¯ï¼Œå¹¶è°ƒç”¨è£å‰ªå’Œä¿å­˜å‡½æ•°æ¥å¤„ç†æ¯ä¸ªå›¾åƒã€‚

`split_trainval`å’Œ`split_test`å‡½æ•°åˆ†åˆ«ç”¨äºå¤„ç†è®­ç»ƒé›†å’ŒéªŒè¯é›†çš„åˆ†å‰²ï¼Œä»¥åŠæµ‹è¯•é›†çš„åˆ†å‰²ã€‚å®ƒä»¬ä¼šæ ¹æ®ç»™å®šçš„è£å‰ªå°ºå¯¸å’Œé—´éš”è°ƒç”¨`split_images_and_labels`å‡½æ•°ã€‚

æœ€åï¼Œç¨‹åºçš„å…¥å£éƒ¨åˆ†ä¼šè°ƒç”¨`split_trainval`å’Œ`split_test`å‡½æ•°ï¼ŒæŒ‡å®šæ•°æ®æ ¹ç›®å½•å’Œä¿å­˜ç›®å½•ï¼Œæ‰§è¡Œæ•°æ®é›†çš„åˆ†å‰²æ“ä½œã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºçš„ç›®çš„æ˜¯ä¸ºäº†å°†DOTAæ•°æ®é›†ä¸­çš„å¤§å›¾åƒåˆ†å‰²æˆå°å›¾åƒï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„æ ‡ç­¾æ–‡ä»¶ï¼Œä»¥ä¾¿äºåç»­çš„æ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°ã€‚é€šè¿‡åˆç†çš„çª—å£åˆ’åˆ†å’Œæ ‡ç­¾è°ƒæ•´ï¼Œç¨‹åºèƒ½å¤Ÿæœ‰æ•ˆåœ°å¤„ç†å¤§è§„æ¨¡çš„å›¾åƒæ•°æ®é›†ã€‚

#### 11.4 code\ultralytics\models\sam\modules\sam.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
from typing import List
import torch
from torch import nn
from .decoders import MaskDecoder
from .encoders import ImageEncoderViT, PromptEncoder

class Sam(nn.Module):
    """
    Samï¼ˆSegment Anything Modelï¼‰æ—¨åœ¨å¤„ç†ç‰©ä½“åˆ†å‰²ä»»åŠ¡ã€‚å®ƒä½¿ç”¨å›¾åƒç¼–ç å™¨ç”Ÿæˆå›¾åƒåµŒå…¥ï¼Œå¹¶ä½¿ç”¨æç¤ºç¼–ç å™¨å¯¹å„ç§ç±»å‹çš„è¾“å…¥æç¤ºè¿›è¡Œç¼–ç ã€‚è¿™äº›åµŒå…¥éšåè¢«æ©ç è§£ç å™¨ç”¨äºé¢„æµ‹ç‰©ä½“æ©ç ã€‚
    
    å±æ€§ï¼š
        mask_threshold (float): æ©ç é¢„æµ‹çš„é˜ˆå€¼ã€‚
        image_format (str): è¾“å…¥å›¾åƒçš„æ ¼å¼ï¼Œé»˜è®¤ä¸º 'RGB'ã€‚
        image_encoder (ImageEncoderViT): ç”¨äºå°†å›¾åƒç¼–ç ä¸ºåµŒå…¥çš„ä¸»å¹²ç½‘ç»œã€‚
        prompt_encoder (PromptEncoder): ç¼–ç å„ç§ç±»å‹çš„è¾“å…¥æç¤ºã€‚
        mask_decoder (MaskDecoder): æ ¹æ®å›¾åƒå’Œæç¤ºåµŒå…¥é¢„æµ‹ç‰©ä½“æ©ç ã€‚
        pixel_mean (List[float]): ç”¨äºå›¾åƒå½’ä¸€åŒ–çš„å‡å€¼åƒç´ å€¼ã€‚
        pixel_std (List[float]): ç”¨äºå›¾åƒå½’ä¸€åŒ–çš„æ ‡å‡†å·®å€¼ã€‚
    """

    mask_threshold: float = 0.0  # æ©ç é¢„æµ‹çš„é˜ˆå€¼ï¼Œåˆå§‹å€¼ä¸º0.0
    image_format: str = "RGB"     # è¾“å…¥å›¾åƒçš„æ ¼å¼ï¼Œé»˜è®¤ä¸ºRGB

    def __init__(
        self,
        image_encoder: ImageEncoderViT,  # å›¾åƒç¼–ç å™¨ï¼Œç”¨äºå°†å›¾åƒè½¬æ¢ä¸ºåµŒå…¥
        prompt_encoder: PromptEncoder,    # æç¤ºç¼–ç å™¨ï¼Œç”¨äºç¼–ç è¾“å…¥æç¤º
        mask_decoder: MaskDecoder,        # æ©ç è§£ç å™¨ï¼Œç”¨äºä»åµŒå…¥ä¸­é¢„æµ‹æ©ç 
        pixel_mean: List[float] = (123.675, 116.28, 103.53),  # å›¾åƒå½’ä¸€åŒ–çš„å‡å€¼
        pixel_std: List[float] = (58.395, 57.12, 57.375),      # å›¾åƒå½’ä¸€åŒ–çš„æ ‡å‡†å·®
    ) -> None:
        """
        åˆå§‹åŒ– Sam ç±»ï¼Œç”¨äºä»å›¾åƒå’Œè¾“å…¥æç¤ºä¸­é¢„æµ‹ç‰©ä½“æ©ç ã€‚

        æ³¨æ„ï¼š
            æ‰€æœ‰çš„ forward() æ“ä½œå·²ç§»è‡³ SAMPredictorã€‚

        å‚æ•°ï¼š
            image_encoder (ImageEncoderViT): ç”¨äºå°†å›¾åƒç¼–ç ä¸ºå›¾åƒåµŒå…¥çš„ä¸»å¹²ç½‘ç»œã€‚
            prompt_encoder (PromptEncoder): ç¼–ç å„ç§ç±»å‹çš„è¾“å…¥æç¤ºã€‚
            mask_decoder (MaskDecoder): ä»å›¾åƒåµŒå…¥å’Œç¼–ç çš„æç¤ºä¸­é¢„æµ‹æ©ç ã€‚
            pixel_mean (List[float], optional): è¾“å…¥å›¾åƒçš„åƒç´ å½’ä¸€åŒ–å‡å€¼ï¼Œé»˜è®¤ä¸º (123.675, 116.28, 103.53)ã€‚
            pixel_std (List[float], optional): è¾“å…¥å›¾åƒçš„åƒç´ å½’ä¸€åŒ–æ ‡å‡†å·®ï¼Œé»˜è®¤ä¸º (58.395, 57.12, 57.375)ã€‚
        """
        super().__init__()  # è°ƒç”¨çˆ¶ç±» nn.Module çš„åˆå§‹åŒ–æ–¹æ³•
        self.image_encoder = image_encoder  # è®¾ç½®å›¾åƒç¼–ç å™¨
        self.prompt_encoder = prompt_encoder  # è®¾ç½®æç¤ºç¼–ç å™¨
        self.mask_decoder = mask_decoder  # è®¾ç½®æ©ç è§£ç å™¨
        # æ³¨å†Œå‡å€¼å’Œæ ‡å‡†å·®ä½œä¸ºç¼“å†²åŒºï¼Œç”¨äºå›¾åƒå½’ä¸€åŒ–
        self.register_buffer("pixel_mean", torch.Tensor(pixel_mean).view(-1, 1, 1), False)
        self.register_buffer("pixel_std", torch.Tensor(pixel_std).view(-1, 1, 1), False)
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è§£é‡Šï¼š
1. **ç±»å®šä¹‰**ï¼š`Sam` ç±»ç»§æ‰¿è‡ª `nn.Module`ï¼Œç”¨äºå®ç°ç‰©ä½“åˆ†å‰²æ¨¡å‹ã€‚
2. **å±æ€§**ï¼šå®šä¹‰äº†æ¨¡å‹çš„ä¸»è¦å±æ€§ï¼ŒåŒ…æ‹¬æ©ç é˜ˆå€¼ã€å›¾åƒæ ¼å¼ã€ç¼–ç å™¨å’Œè§£ç å™¨ç­‰ã€‚
3. **åˆå§‹åŒ–æ–¹æ³•**ï¼šæ„é€ å‡½æ•°æ¥æ”¶å›¾åƒç¼–ç å™¨ã€æç¤ºç¼–ç å™¨å’Œæ©ç è§£ç å™¨ï¼Œå¹¶åˆå§‹åŒ–å®ƒä»¬ã€‚åŒæ—¶æ³¨å†Œäº†ç”¨äºå›¾åƒå½’ä¸€åŒ–çš„å‡å€¼å’Œæ ‡å‡†å·®ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `Sam` çš„ç±»ï¼Œå±äº Ultralytics YOLO é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºå¯¹è±¡åˆ†å‰²ä»»åŠ¡ã€‚è¯¥ç±»ç»§æ‰¿è‡ª PyTorch çš„ `nn.Module`ï¼Œæ˜¯æ„å»ºæ·±åº¦å­¦ä¹ æ¨¡å‹çš„åŸºç¡€ç±»ã€‚

åœ¨ `Sam` ç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²ä¸­ï¼Œç®€è¦ä»‹ç»äº†å…¶åŠŸèƒ½å’Œä¸»è¦ç»„ä»¶ã€‚è¯¥æ¨¡å‹çš„è®¾è®¡ç›®çš„æ˜¯å¤„ç†å›¾åƒåˆ†å‰²ï¼Œä½¿ç”¨å›¾åƒç¼–ç å™¨ç”Ÿæˆå›¾åƒåµŒå…¥ï¼Œå¹¶é€šè¿‡æç¤ºç¼–ç å™¨å¯¹å„ç§è¾“å…¥æç¤ºè¿›è¡Œç¼–ç ã€‚éšåï¼Œè¿™äº›åµŒå…¥ä¼šè¢«æ©ç è§£ç å™¨ç”¨æ¥é¢„æµ‹å¯¹è±¡çš„æ©ç ã€‚

ç±»ä¸­å®šä¹‰äº†å‡ ä¸ªé‡è¦çš„å±æ€§ï¼ŒåŒ…æ‹¬ï¼š
- `mask_threshold`ï¼šç”¨äºæ©ç é¢„æµ‹çš„é˜ˆå€¼ã€‚
- `image_format`ï¼šè¾“å…¥å›¾åƒçš„æ ¼å¼ï¼Œé»˜è®¤ä¸º 'RGB'ã€‚
- `image_encoder`ï¼šä½¿ç”¨çš„å›¾åƒç¼–ç å™¨ï¼Œå…·ä½“å®ç°ä¸º `ImageEncoderViT`ã€‚
- `prompt_encoder`ï¼šç”¨äºç¼–ç å„ç§ç±»å‹è¾“å…¥æç¤ºçš„ç¼–ç å™¨ã€‚
- `mask_decoder`ï¼šä»å›¾åƒå’Œæç¤ºåµŒå…¥ä¸­é¢„æµ‹å¯¹è±¡æ©ç çš„è§£ç å™¨ã€‚
- `pixel_mean` å’Œ `pixel_std`ï¼šç”¨äºå›¾åƒå½’ä¸€åŒ–çš„å‡å€¼å’Œæ ‡å‡†å·®ã€‚

åœ¨ `__init__` æ–¹æ³•ä¸­ï¼Œç±»çš„æ„é€ å‡½æ•°æ¥å—å¤šä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬å›¾åƒç¼–ç å™¨ã€æç¤ºç¼–ç å™¨å’Œæ©ç è§£ç å™¨ï¼Œä»¥åŠå¯é€‰çš„åƒç´ å‡å€¼å’Œæ ‡å‡†å·®ã€‚æ„é€ å‡½æ•°é¦–å…ˆè°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œç„¶åå°†ä¼ å…¥çš„ç¼–ç å™¨å’Œè§£ç å™¨èµ‹å€¼ç»™ç›¸åº”çš„å±æ€§ã€‚æ¥ç€ï¼Œä½¿ç”¨ `register_buffer` æ–¹æ³•æ³¨å†Œäº†åƒç´ å‡å€¼å’Œæ ‡å‡†å·®ï¼Œè¿™æ ·å®ƒä»¬å°±ä¼šè¢«è§†ä¸ºæ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œä½†ä¸ä¼šè¢«è§†ä¸ºæ¨¡å‹çš„å¯å­¦ä¹ å‚æ•°ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªç±»æ˜¯ä¸€ä¸ªå¯¹è±¡åˆ†å‰²æ¨¡å‹çš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£å¤„ç†å›¾åƒå’Œæç¤ºè¾“å…¥ï¼Œå¹¶å‡†å¤‡å¥½è¿›è¡Œæ©ç é¢„æµ‹ã€‚

#### 11.5 train.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
class DetectionTrainer(BaseTrainer):
    """
    æ‰©å±•è‡ª BaseTrainer ç±»çš„æ£€æµ‹æ¨¡å‹è®­ç»ƒç±»ã€‚
    ç”¨äºè®­ç»ƒ YOLO æ£€æµ‹æ¨¡å‹ã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æ„å»º YOLO æ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): åŒ…å«å›¾åƒçš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œ`train` è¡¨ç¤ºè®­ç»ƒæ¨¡å¼ï¼Œ`val` è¡¨ç¤ºéªŒè¯æ¨¡å¼ã€‚
            batch (int, optional): æ‰¹æ¬¡å¤§å°ï¼Œä»…ç”¨äº `rect` æ¨¡å¼ã€‚é»˜è®¤ä¸º Noneã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æ„é€ å¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]  # ç¡®ä¿æ¨¡å¼æœ‰æ•ˆ
        with torch_distributed_zero_first(rank):  # åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­ï¼Œç¡®ä¿æ•°æ®é›†åªåˆå§‹åŒ–ä¸€æ¬¡
            dataset = self.build_dataset(dataset_path, mode, batch_size)  # æ„å»ºæ•°æ®é›†
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        if getattr(dataset, "rect", False) and shuffle:
            LOGGER.warning("WARNING âš ï¸ 'rect=True' ä¸ DataLoader shuffle ä¸å…¼å®¹ï¼Œè®¾ç½® shuffle=False")
            shuffle = False
        workers = self.args.workers if mode == "train" else self.args.workers * 2  # è®¾ç½®å·¥ä½œçº¿ç¨‹æ•°
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹ä¸€æ‰¹å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # è½¬æ¢ä¸ºæµ®ç‚¹æ•°å¹¶å½’ä¸€åŒ–
        if self.args.multi_scale:  # å¦‚æœå¯ç”¨å¤šå°ºåº¦
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©æ–°çš„å°ºå¯¸
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è¿›è¡Œæ’å€¼ç¼©æ”¾
            batch["img"] = imgs  # æ›´æ–°æ‰¹æ¬¡å›¾åƒ
        return batch

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å› YOLO æ£€æµ‹æ¨¡å‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)  # åˆ›å»ºæ£€æµ‹æ¨¡å‹
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡
        return model

    def get_validator(self):
        """è¿”å›ç”¨äº YOLO æ¨¡å‹éªŒè¯çš„ DetectionValidatorã€‚"""
        self.loss_names = "box_loss", "cls_loss", "dfl_loss"  # å®šä¹‰æŸå¤±åç§°
        return yolo.detect.DetectionValidator(
            self.test_loader, save_dir=self.save_dir, args=copy(self.args), _callbacks=self.callbacks
        )  # è¿”å›éªŒè¯å™¨

    def plot_training_samples(self, batch, ni):
        """ç»˜åˆ¶å¸¦æœ‰æ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬ã€‚"""
        plot_images(
            images=batch["img"],
            batch_idx=batch["batch_idx"],
            cls=batch["cls"].squeeze(-1),
            bboxes=batch["bboxes"],
            paths=batch["im_file"],
            fname=self.save_dir / f"train_batch{ni}.jpg",
            on_plot=self.on_plot,
        )  # ç»˜åˆ¶å›¾åƒ

    def plot_metrics(self):
        """ä» CSV æ–‡ä»¶ä¸­ç»˜åˆ¶æŒ‡æ ‡ã€‚"""
        plot_results(file=self.csv, on_plot=self.on_plot)  # ä¿å­˜ç»“æœå›¾
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **DetectionTrainer ç±»**ï¼šç»§æ‰¿è‡ª `BaseTrainer`ï¼Œç”¨äºè®­ç»ƒ YOLO æ£€æµ‹æ¨¡å‹ã€‚
2. **build_dataset æ–¹æ³•**ï¼šæ ¹æ®è¾“å…¥è·¯å¾„å’Œæ¨¡å¼æ„å»ºæ•°æ®é›†ï¼Œæ”¯æŒè®­ç»ƒå’ŒéªŒè¯æ¨¡å¼ã€‚
3. **get_dataloader æ–¹æ³•**ï¼šæ„å»ºæ•°æ®åŠ è½½å™¨ï¼Œæ”¯æŒå¤šçº¿ç¨‹å’Œæ•°æ®æ‰“ä¹±ã€‚
4. **preprocess_batch æ–¹æ³•**ï¼šå¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å½’ä¸€åŒ–å’Œå¤šå°ºåº¦è°ƒæ•´ã€‚
5. **get_model æ–¹æ³•**ï¼šè¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹ï¼Œå¹¶å¯é€‰æ‹©æ€§åœ°åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
6. **get_validator æ–¹æ³•**ï¼šè¿”å›ç”¨äºæ¨¡å‹éªŒè¯çš„éªŒè¯å™¨ã€‚
7. **plot_training_samples å’Œ plot_metrics æ–¹æ³•**ï¼šç”¨äºå¯è§†åŒ–è®­ç»ƒæ ·æœ¬å’Œè®­ç»ƒæŒ‡æ ‡ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„å®ç°ï¼Œç»§æ‰¿è‡ª `BaseTrainer` ç±»ã€‚æ–‡ä»¶ä¸­ä¸»è¦åŒ…å«äº†æ•°æ®é›†æ„å»ºã€æ•°æ®åŠ è½½ã€æ¨¡å‹é¢„å¤„ç†ã€æ¨¡å‹å±æ€§è®¾ç½®ã€æ¨¡å‹è·å–ã€éªŒè¯å™¨è·å–ã€æŸå¤±é¡¹å¤„ç†ã€è®­ç»ƒè¿›åº¦æ˜¾ç¤ºã€è®­ç»ƒæ ·æœ¬ç»˜åˆ¶ä»¥åŠç»˜åˆ¶è®­ç»ƒæŒ‡æ ‡ç­‰åŠŸèƒ½ã€‚

é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬æ•°å­¦è¿ç®—ã€éšæœºæ•°ç”Ÿæˆã€æ·±åº¦å­¦ä¹ ç›¸å…³çš„åº“ä»¥åŠ YOLO æ¨¡å‹å’Œæ•°æ®å¤„ç†çš„å·¥å…·ã€‚æ¥ç€ï¼Œå®šä¹‰äº† `DetectionTrainer` ç±»ï¼Œè¿™ä¸ªç±»ä¸»è¦è´Ÿè´£è®­ç»ƒè¿‡ç¨‹ä¸­çš„å„é¡¹æ“ä½œã€‚

åœ¨ `build_dataset` æ–¹æ³•ä¸­ï¼Œç¨‹åºæ ¹æ®ç»™å®šçš„å›¾åƒè·¯å¾„å’Œæ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰æ„å»º YOLO æ•°æ®é›†ã€‚è¯¥æ–¹æ³•è¿˜æ”¯æŒæ‰¹é‡å¤§å°çš„è®¾ç½®ï¼Œå¹¶æ ¹æ®æ¨¡å‹çš„æ­¥å¹…ï¼ˆstrideï¼‰è¿›è¡Œç›¸åº”çš„è°ƒæ•´ã€‚

`get_dataloader` æ–¹æ³•ç”¨äºæ„å»ºå’Œè¿”å›æ•°æ®åŠ è½½å™¨ã€‚å®ƒä¼šæ ¹æ®è®­ç»ƒæˆ–éªŒè¯æ¨¡å¼é€‰æ‹©æ˜¯å¦æ‰“ä¹±æ•°æ®ï¼Œå¹¶æ ¹æ®è®¾ç½®çš„å·¥ä½œçº¿ç¨‹æ•°æ¥åˆ›å»ºæ•°æ®åŠ è½½å™¨ã€‚

`preprocess_batch` æ–¹æ³•å¯¹æ¯ä¸ªæ‰¹æ¬¡çš„å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒç¼©æ”¾åˆ°é€‚å½“çš„å¤§å°å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ ¼å¼ã€‚è¯¥æ–¹æ³•è¿˜æ”¯æŒå¤šå°ºåº¦è®­ç»ƒï¼Œå³åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­éšæœºé€‰æ‹©å›¾åƒçš„å¤§å°ã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ç­‰ã€‚è¿™äº›å±æ€§ä¼šå½±å“æ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†è¿‡ç¨‹ã€‚

`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹å®ä¾‹ï¼Œå¹¶æ”¯æŒåŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚

`get_validator` æ–¹æ³•è¿”å›ä¸€ä¸ªç”¨äºéªŒè¯æ¨¡å‹æ€§èƒ½çš„éªŒè¯å™¨å®ä¾‹ï¼Œä¸»è¦ç”¨äºåœ¨è®­ç»ƒåè¯„ä¼°æ¨¡å‹çš„è¡¨ç°ã€‚

`label_loss_items` æ–¹æ³•ç”¨äºè¿”å›å¸¦æœ‰æ ‡ç­¾çš„è®­ç»ƒæŸå¤±é¡¹å­—å…¸ï¼Œæ–¹ä¾¿åç»­çš„æŸå¤±ç›‘æ§å’Œåˆ†æã€‚

`progress_string` æ–¹æ³•è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰çš„ epochã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®ä¾‹æ•°é‡å’Œå›¾åƒå¤§å°ç­‰ä¿¡æ¯ã€‚

`plot_training_samples` æ–¹æ³•ç”¨äºç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œä¾¿äºå¯è§†åŒ–è®­ç»ƒæ•°æ®çš„è´¨é‡ã€‚

æœ€åï¼Œ`plot_metrics` å’Œ `plot_training_labels` æ–¹æ³•åˆ†åˆ«ç”¨äºç»˜åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒ‡æ ‡å’Œåˆ›å»ºå¸¦æ ‡ç­¾çš„è®­ç»ƒå›¾ï¼Œä»¥ä¾¿äºåˆ†ææ¨¡å‹çš„è®­ç»ƒæ•ˆæœã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„è®­ç»ƒæ¡†æ¶ï¼Œæ¶µç›–äº†ä»æ•°æ®å‡†å¤‡åˆ°æ¨¡å‹è®­ç»ƒã€éªŒè¯å’Œç»“æœå¯è§†åŒ–çš„å„ä¸ªæ–¹é¢ï¼Œé€‚ç”¨äºä½¿ç”¨ YOLO æ¨¡å‹è¿›è¡Œç›®æ ‡æ£€æµ‹ä»»åŠ¡çš„å¼€å‘è€…ã€‚

#### 11.6 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\files.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import os
from pathlib import Path
from datetime import datetime

def increment_path(path, exist_ok=False, sep='', mkdir=False):
    """
    å¢åŠ æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„çš„ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚å°† 'runs/exp' å¢åŠ ä¸º 'runs/exp_2', 'runs/exp_3' ç­‰ã€‚

    å‚æ•°:
        path (str, pathlib.Path): è¦å¢åŠ çš„è·¯å¾„ã€‚
        exist_ok (bool, optional): å¦‚æœä¸º Trueï¼Œåˆ™è¿”å›åŸè·¯å¾„ï¼Œä¸è¿›è¡Œå¢åŠ ã€‚é»˜è®¤ä¸º Falseã€‚
        sep (str, optional): è·¯å¾„ä¸ç‰ˆæœ¬å·ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚é»˜è®¤ä¸º ''ã€‚
        mkdir (bool, optional): å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥ç›®å½•ã€‚é»˜è®¤ä¸º Falseã€‚

    è¿”å›:
        (pathlib.Path): å¢åŠ åçš„è·¯å¾„ã€‚
    """
    path = Path(path)  # å°†è·¯å¾„è½¬æ¢ä¸º Path å¯¹è±¡
    if path.exists() and not exist_ok:
        # å¦‚æœè·¯å¾„å­˜åœ¨ä¸”ä¸å…è®¸é‡å¤ï¼Œåˆ™è¿›è¡Œç‰ˆæœ¬å·å¢åŠ 
        path, suffix = (path.with_suffix(''), path.suffix) if path.is_file() else (path, '')

        # å°è¯•å¢åŠ ç‰ˆæœ¬å·
        for n in range(2, 9999):
            p = f'{path}{sep}{n}{suffix}'  # ç”Ÿæˆæ–°çš„è·¯å¾„
            if not os.path.exists(p):  # å¦‚æœæ–°è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨è¯¥è·¯å¾„
                break
        path = Path(p)  # æ›´æ–°è·¯å¾„ä¸ºæ–°è·¯å¾„

    if mkdir:
        path.mkdir(parents=True, exist_ok=True)  # å¦‚æœéœ€è¦ï¼Œåˆ›å»ºç›®å½•

    return path  # è¿”å›å¢åŠ åçš„è·¯å¾„


def file_age(path):
    """è¿”å›æ–‡ä»¶è‡ªä¸Šæ¬¡æ›´æ–°ä»¥æ¥çš„å¤©æ•°ã€‚"""
    dt = (datetime.now() - datetime.fromtimestamp(Path(path).stat().st_mtime))  # è®¡ç®—æ—¶é—´å·®
    return dt.days  # è¿”å›å¤©æ•°


def file_size(path):
    """è¿”å›æ–‡ä»¶æˆ–ç›®å½•çš„å¤§å°ï¼ˆMBï¼‰ã€‚"""
    if isinstance(path, (str, Path)):
        mb = 1 << 20  # å°†å­—èŠ‚è½¬æ¢ä¸ºMBï¼ˆ1024 ** 2ï¼‰
        path = Path(path)
        if path.is_file():
            return path.stat().st_size / mb  # è¿”å›æ–‡ä»¶å¤§å°
        elif path.is_dir():
            # è¿”å›ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„æ€»å¤§å°
            return sum(f.stat().st_size for f in path.glob('**/*') if f.is_file()) / mb
    return 0.0  # å¦‚æœè·¯å¾„æ— æ•ˆï¼Œè¿”å›0.0
```

### ä»£ç è¯´æ˜ï¼š
1. **increment_path**: è¯¥å‡½æ•°ç”¨äºå¢åŠ æ–‡ä»¶æˆ–ç›®å½•çš„ç‰ˆæœ¬å·ã€‚å¦‚æœæŒ‡å®šçš„è·¯å¾„å·²ç»å­˜åœ¨ï¼Œå‡½æ•°ä¼šåœ¨è·¯å¾„åæ·»åŠ ä¸€ä¸ªæ•°å­—åç¼€ï¼Œç¡®ä¿è·¯å¾„å”¯ä¸€ã€‚å¯ä»¥é€‰æ‹©æ˜¯å¦åˆ›å»ºè¯¥è·¯å¾„ã€‚

2. **file_age**: è¯¥å‡½æ•°è®¡ç®—å¹¶è¿”å›æ–‡ä»¶è‡ªä¸Šæ¬¡ä¿®æ”¹ä»¥æ¥çš„å¤©æ•°ï¼Œåˆ©ç”¨æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´æˆ³è¿›è¡Œè®¡ç®—ã€‚

3. **file_size**: è¯¥å‡½æ•°è¿”å›æŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„å¤§å°ï¼Œå•ä½ä¸ºMBã€‚å¦‚æœæ˜¯æ–‡ä»¶ï¼Œç›´æ¥è¿”å›æ–‡ä»¶å¤§å°ï¼›å¦‚æœæ˜¯ç›®å½•ï¼Œåˆ™è®¡ç®—ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„æ€»å¤§å°ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºå¤„ç†æ–‡ä»¶å’Œç›®å½•çš„æ“ä½œã€‚æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€äº›å®ç”¨çš„å·¥å…·å‡½æ•°å’Œä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œå¸®åŠ©ç”¨æˆ·åœ¨ä½¿ç”¨YOLOç®—æ³•æ—¶æ›´æ–¹ä¾¿åœ°ç®¡ç†å·¥ä½œç›®å½•å’Œæ–‡ä»¶ã€‚

é¦–å…ˆï¼Œ`WorkingDirectory`ç±»æ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œå…è®¸ç”¨æˆ·åœ¨æŒ‡å®šçš„ç›®å½•ä¸­æ‰§è¡Œä»£ç ã€‚å½“ç”¨æˆ·è¿›å…¥è¿™ä¸ªä¸Šä¸‹æ–‡æ—¶ï¼Œå½“å‰å·¥ä½œç›®å½•ä¼šè¢«æ›´æ”¹ä¸ºæŒ‡å®šçš„ç›®å½•ï¼›å½“é€€å‡ºä¸Šä¸‹æ–‡æ—¶ï¼Œå·¥ä½œç›®å½•ä¼šæ¢å¤åˆ°åŸæ¥çš„ä½ç½®ã€‚è¿™å¯¹äºéœ€è¦åœ¨ç‰¹å®šç›®å½•ä¸‹è¿è¡Œç¨‹åºçš„æƒ…å†µéå¸¸æœ‰ç”¨ã€‚

æ¥ä¸‹æ¥ï¼Œ`spaces_in_path`æ˜¯å¦ä¸€ä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œç”¨äºå¤„ç†è·¯å¾„ä¸­åŒ…å«ç©ºæ ¼çš„æƒ…å†µã€‚å¦‚æœè·¯å¾„ä¸­æœ‰ç©ºæ ¼ï¼Œå®ƒä¼šå°†ç©ºæ ¼æ›¿æ¢ä¸ºä¸‹åˆ’çº¿ï¼Œå¹¶å°†æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶åˆ°ä¸€ä¸ªä¸´æ—¶è·¯å¾„ä¸­ã€‚åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä»£ç å—åï¼Œå®ƒä¼šå°†æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶å›åŸæ¥çš„ä½ç½®ã€‚è¿™å¯ä»¥é¿å…åœ¨å¤„ç†æ–‡ä»¶æ—¶ç”±äºè·¯å¾„ä¸­ç©ºæ ¼å¯¼è‡´çš„é—®é¢˜ã€‚

`increment_path`å‡½æ•°ç”¨äºé€’å¢æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ã€‚å¦‚æœæŒ‡å®šçš„è·¯å¾„å·²ç»å­˜åœ¨ï¼Œå‡½æ•°ä¼šåœ¨è·¯å¾„åé™„åŠ ä¸€ä¸ªæ•°å­—ï¼Œä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å”¯ä¸€è·¯å¾„ã€‚è¿™ä¸ªå‡½æ•°æ”¯æŒæ–‡ä»¶å’Œç›®å½•ï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©åœ¨è·¯å¾„ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»ºç›®å½•ã€‚

`file_age`å’Œ`file_date`å‡½æ•°åˆ†åˆ«ç”¨äºè·å–æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œè¿”å›è‡ªä¸Šæ¬¡æ›´æ–°ä»¥æ¥çš„å¤©æ•°å’Œå¯è¯»çš„ä¿®æ”¹æ—¥æœŸã€‚è¿™å¯¹äºæ–‡ä»¶ç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶éå¸¸æœ‰ç”¨ã€‚

`file_size`å‡½æ•°åˆ™ç”¨äºè®¡ç®—æ–‡ä»¶æˆ–ç›®å½•çš„å¤§å°ï¼Œè¿”å›ä»¥MBä¸ºå•ä½çš„å¤§å°ã€‚å¦‚æœä¼ å…¥çš„æ˜¯ç›®å½•ï¼Œå®ƒä¼šé€’å½’è®¡ç®—ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„æ€»å¤§å°ã€‚

æœ€åï¼Œ`get_latest_run`å‡½æ•°ç”¨äºæŸ¥æ‰¾æŒ‡å®šç›®å½•ä¸‹æœ€æ–°çš„`last.pt`æ–‡ä»¶ï¼Œé€šå¸¸ç”¨äºæ¢å¤è®­ç»ƒã€‚è¿™å¯¹äºéœ€è¦ä»ä¸Šæ¬¡è®­ç»ƒä¸­ç»§ç»­çš„ç”¨æˆ·æ¥è¯´éå¸¸æ–¹ä¾¿ã€‚

æ•´ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€ç³»åˆ—ä¾¿æ·çš„å·¥å…·å‡½æ•°å’Œä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œæ—¨åœ¨ç®€åŒ–YOLOç®—æ³•çš„ä½¿ç”¨è¿‡ç¨‹ï¼Œå°¤å…¶æ˜¯åœ¨æ–‡ä»¶å’Œç›®å½•ç®¡ç†æ–¹é¢ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºYOLOv8çš„ç›®æ ‡æ£€æµ‹å’Œåˆ†å‰²æ¡†æ¶ï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªçµæ´»ä¸”é«˜æ•ˆçš„å·¥å…·é›†ï¼Œä¾›ç ”ç©¶äººå‘˜å’Œå¼€å‘è€…è¿›è¡Œç›®æ ‡æ£€æµ‹ã€å›¾åƒåˆ†å‰²ã€æ¨¡å‹è®­ç»ƒå’Œæ¨ç†ç­‰ä»»åŠ¡ã€‚é¡¹ç›®çš„æ ¸å¿ƒæ„æ¶åŒ…æ‹¬å¤šä¸ªæ¨¡å—å’Œå·¥å…·ï¼Œæ¶µç›–äº†æ•°æ®å¤„ç†ã€æ¨¡å‹æ„å»ºã€è®­ç»ƒè¿‡ç¨‹ã€æ–‡ä»¶ç®¡ç†ç­‰åŠŸèƒ½ã€‚æ¯ä¸ªæ¨¡å—éƒ½æœ‰å…¶ç‰¹å®šçš„èŒè´£ï¼Œä½¿å¾—æ•´ä¸ªç³»ç»Ÿèƒ½å¤Ÿé«˜æ•ˆåœ°ååŒå·¥ä½œã€‚

- **æ¨¡å‹æ¨¡å—**ï¼šå®ç°äº†YOLOv8åŠå…¶å˜ç§çš„æ¨¡å‹ç»“æ„ï¼Œæ”¯æŒç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†å‰²ã€‚
- **æ•°æ®å¤„ç†æ¨¡å—**ï¼šè´Ÿè´£æ•°æ®é›†çš„åŠ è½½ã€é¢„å¤„ç†å’Œå¢å¼ºï¼Œæ”¯æŒDOTAæ•°æ®é›†çš„åˆ‡å‰²å’Œæ ‡ç­¾å¤„ç†ã€‚
- **è®­ç»ƒæ¨¡å—**ï¼šæä¾›è®­ç»ƒæµç¨‹çš„å®ç°ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½ã€æ¨¡å‹è®­ç»ƒã€æŸå¤±è®¡ç®—å’Œç»“æœå¯è§†åŒ–ã€‚
- **å·¥å…·æ¨¡å—**ï¼šåŒ…å«æ–‡ä»¶ç®¡ç†ã€è·¯å¾„å¤„ç†å’Œå…¶ä»–å®ç”¨å·¥å…·ï¼Œç®€åŒ–äº†ç”¨æˆ·çš„æ“ä½œã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                                                     | åŠŸèƒ½æè¿°                                                         |
|--------------------------------------------------------------------------------------------|------------------------------------------------------------------|
| `ultralytics/models/yolo/segment/__init__.py`                                             | åˆå§‹åŒ–å›¾åƒåˆ†å‰²æ¨¡å—ï¼Œå¯¼å…¥ç›¸å…³ç±»ï¼ˆé¢„æµ‹å™¨ã€è®­ç»ƒå™¨ã€éªŒè¯å™¨ï¼‰ã€‚      |
| `ui.py`                                                                                     | è¿è¡ŒæŒ‡å®šçš„Streamlitåº”ç”¨è„šæœ¬ï¼Œæä¾›ç”¨æˆ·ç•Œé¢ã€‚                      |
| `code/ultralytics/data/split_dota.py`                                                     | å¤„ç†DOTAæ•°æ®é›†ï¼Œåˆ‡å‰²å¤§å›¾åƒä¸ºå°å›¾åƒå¹¶è°ƒæ•´æ ‡ç­¾ã€‚                   |
| `code/ultralytics/models/sam/modules/sam.py`                                              | å®šä¹‰Samç±»ï¼Œç”¨äºå¯¹è±¡åˆ†å‰²ä»»åŠ¡ï¼Œå¤„ç†å›¾åƒå’Œæç¤ºè¾“å…¥ã€‚                |
| `train.py`                                                                                  | å®ç°YOLOæ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®é›†æ„å»ºã€æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯ã€‚        |
| `ultralytics/utils/files.py`                                                               | æä¾›æ–‡ä»¶å’Œç›®å½•ç®¡ç†å·¥å…·ï¼ŒåŒ…æ‹¬ä¸Šä¸‹æ–‡ç®¡ç†å™¨å’Œè·¯å¾„å¤„ç†å‡½æ•°ã€‚         |
| `ultralytics/utils/triton.py`                                                              | ï¼ˆå‡è®¾åŠŸèƒ½ï¼‰ä¸Tritonæ¨ç†æœåŠ¡å™¨ç›¸å…³çš„å·¥å…·ï¼Œå¯èƒ½ç”¨äºæ¨¡å‹æ¨ç†ã€‚     |
| `ultralytics/models/yolo/detect/__init__.py`                                             | åˆå§‹åŒ–YOLOæ£€æµ‹æ¨¡å—ï¼Œå¯¼å…¥ç›¸å…³ç±»å’Œå‡½æ•°ã€‚                          |
| `ultralytics/nn/extra_modules/attention.py`                                               | å®ç°æ³¨æ„åŠ›æœºåˆ¶çš„æ¨¡å—ï¼Œå¯èƒ½ç”¨äºå¢å¼ºæ¨¡å‹çš„ç‰¹å¾æå–èƒ½åŠ›ã€‚          |
| `code/ultralytics/solutions/heatmap.py`                                                  | å¤„ç†çƒ­å›¾ç”Ÿæˆå’Œå¯è§†åŒ–ï¼Œå¯èƒ½ç”¨äºç›®æ ‡æ£€æµ‹ç»“æœçš„å¯è§†åŒ–ã€‚            |
| `code/ultralytics/utils/tal.py`                                                           | ï¼ˆå‡è®¾åŠŸèƒ½ï¼‰æä¾›ä¸æ ‡ç­¾ç›¸å…³çš„å·¥å…·ï¼Œå¯èƒ½ç”¨äºæ ‡ç­¾å¤„ç†å’Œç®¡ç†ã€‚      |
| `ultralytics/trackers/utils/matching.py`                                                  | å®ç°è·Ÿè¸ªå™¨çš„åŒ¹é…ç®—æ³•ï¼Œå¯èƒ½ç”¨äºç›®æ ‡è·Ÿè¸ªä»»åŠ¡ã€‚                    |
| `code/ultralytics/engine/tuner.py`                                                        | å®ç°æ¨¡å‹è°ƒä¼˜çš„åŠŸèƒ½ï¼Œå¯èƒ½ç”¨äºè¶…å‚æ•°è°ƒæ•´å’Œæ¨¡å‹æ€§èƒ½ä¼˜åŒ–ã€‚          |

### å¤‡æ³¨
- è¡¨æ ¼ä¸­çš„éƒ¨åˆ†æ–‡ä»¶åŠŸèƒ½æ˜¯åŸºäºæ–‡ä»¶åå’Œä¸Šä¸‹æ–‡æ¨æµ‹çš„ï¼Œå…·ä½“åŠŸèƒ½å¯èƒ½éœ€è¦æŸ¥çœ‹æºä»£ç ä»¥ç¡®è®¤ã€‚
- é¡¹ç›®æ•´ä½“ç»“æ„å’ŒåŠŸèƒ½çš„è®¾è®¡æ—¨åœ¨ä¸ºç›®æ ‡æ£€æµ‹å’Œåˆ†å‰²ä»»åŠ¡æä¾›ä¸€ä¸ªé«˜æ•ˆã€å¯æ‰©å±•çš„æ¡†æ¶ï¼Œä¾¿äºç”¨æˆ·è¿›è¡Œæ¨¡å‹è®­ç»ƒå’Œåº”ç”¨å¼€å‘ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šD:\tools\20240905\Temporary](D:\tools\20240905\Temporary)